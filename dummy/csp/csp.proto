syntax = "proto3";

package csp;

// The request now carries the *content* of the DataMatrix file.
// `filename` is optional – it is only used for logging / debugging.
message DataFile {
  string filename = 1;   // e.g. "DataMatrix_SpO2_cleaned4.txt"
  bytes  data     = 2;   // raw file bytes (UTF‑8 text, comma‑separated)
}

// Empty response – the RPC does not need to return any data.
message Empty {}

service CSPService {
  // Evaluate the supplied DataMatrix (in‑memory) and write a BinaryOutput file.
  rpc evaluate (DataFile) returns (Empty) {}
}
